@page
@model Ticket_Hive.UI.Pages.Member.HomeModel
@{
}
<nav class="navbar " style="b>
    <h1 id="title" class=" mt-2">TicketHive</h1>
    <div class="search">
        <form method="post" class="d-flex">

            <button id="eventbtn" class="btn btn-primary me-1" type="submit" asp-page-handler="ShowAllEvents">All Events</button>
            <a asp-page="/Member/ShoppingCartPage" class="btn btn-primary me-1">Shopping Cart</a>

            <a asp-page="./ChangePassword" class="btn btn-primary me-1">User Page</a>


            @if (Model.IsAdmin && User.Identity.IsAuthenticated)
            {
                <a asp-page="/AppPages/Admin" class="btn btn-primary me-1">Admin Page</a>
            }
            else
            {
                <button class="btn btn-primary me-1" disabled>Admin Page</button>
            }
            <button class="btn btn-primary me-5" type="submit" asp-page-handler="SignOut">Sign Out</button>
            <input class="form-control mt-3" id="searchbar" type="text" asp-for="SearchWord" placeholder="Search" />
             <a asp-page="/Member/BookingPage" class="btn btn-primary me-1" type="submit" asp-route-search="@Model.SearchWord">Search</a>
          
        </form>
    </div>
</nav>


@if (Model.popularEvents != null)
{
    <br />
    <h2 class="popular-events">What's Hot</h2>

    <hr />
    <div class="row movie-list">
        @foreach (var eventToDisplay in Model.popularEvents)
        {
            <div class="image-container">
                <h4>@eventToDisplay.Name</h4>
                <a class="btn btn-primary mb-4" asp-page="Evenemang" asp-route-id="@eventToDisplay.Id">Read more</a>
                <hr>
            </div>
        }
    </div>
}

@if (Model.RecommendedEvents != null && Model.RecommendedEvents.Any())
{
    <h1 class="recommended-events">Recommended events:</h1>
    <div class="row movie-list">
        @foreach (var eventToDisplay in Model.RecommendedEvents)
        {

            <div class="image-container">
                <h4>@eventToDisplay.Name</h4>
                <a class="btn btn-primary" asp-page="Evenemang" asp-route-id="@eventToDisplay.Id">Read more</a>

            </div>
        }
    </div>
}